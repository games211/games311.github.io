<!DOCTYPE html>  
<html lang="en">  
<head>  
  <meta charset="UTF-8" />  
  <title>Rajiv's Maze - Fortnite-like Third-Person Prototype</title>  
  <meta name="viewport" content="width=device-width, initial-scale=1" />  
  <style>  
    :root {  
      --bg: #202020;  
      --panel: rgba(0,0,0,0.5);  
      --text: #ffffff;  
    }  
    * { box-sizing: border-box; }  
    html, body { height: 100%; margin: 0; background: var(--bg); color: var(--text); font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial; }  
    #ui {  
      position: absolute; top: 12px; left: 12px; padding: 10px 12px;  
      background: var(--panel); border-radius: 8px; max-width: 420px;  
      z-index: 2;  
    }  
    #objective { font-weight: bold; margin-bottom: 6px; }  
    #hint { font-size: 13px; opacity: 0.95; }  
    #hud {  
      position: absolute; bottom: 12px; left: 12px;  
      padding: 8px 12px; background: rgba(0,0,0,0.5); border-radius: 8px;  
      z-index: 2;  
    }  
    #colorsToggle { margin-left: 8px; }  
    #overlay {  
      position: fixed; inset: 0; display: none; align-items: center; justify-content: center;  
      background: rgba(0,0,0,0.5); z-index: 3;  
    }  
    #overlayContent {  
      background: #111; padding: 20px; border-radius: 10px; width: 90%; max-width: 520px;  
      color: #fff; text-align: left;  
    }  
    a { color: #9ecaff; }  
  </style>  
</head>  
<body>  
  <div id="ui">  
    <div id="objective">Objective: Navigate the maze, collect keys, solve puzzles, and reach the exit.</div>  
    <div id="hint">Controls: WASD to move, mouse to look, Space to jump (if enabled). Interact with E.</div>  
    <div style="margin-top:6px; font-size:12px; opacity:.8">  
      Tips: Color-coded doors unlock with keys; non-graphic combat is allowed but keep it PG-13.  
    </div>  
  </div>  

  <div id="hud">  
    Keys: <span id="keyCount">0</span> &nbsp;&nbsp; | &nbsp;&nbsp; Time: <span id="timeLeft">120</span>s  
    &nbsp;&nbsp; | &nbsp;&nbsp;  
    <button id="colorsToggle" title="Toggle color palette (colorblind-friendly)">Color Palette</button>  
  </div>  

  <div id="overlay" aria-hidden="true">  
    <div id="overlayContent">  
      <h3>Exit Reached</h3>  
      <p>You found a safe district. Community support awaits. Want to retry for a better run?</p>  
      <button id="retryBtn">Retry</button>  
    </div>  
  </div>  

  <!-- Three.js from CDN -->  
  <script src="https://cdn.jsdelivr.net/npm/three@0.152.0/build/three.min.js"></script>  
  <script src="https://cdn.jsdelivr.net/npm/three@0.152.0/examples/js/controls/PointerLockControls.js"></script>  
  <script src="https://cdn.jsdelivr.net/npm/three@0.152.0/examples/jsm/controls/OrbitControls.js"></script>  

  <